# Data Collector ç«¯åˆ°ç«¯æµ‹è¯•æ€»ç»“

## ğŸ“‹ æµ‹è¯•æ¦‚è¿°

æœ¬æ–‡æ¡£æ€»ç»“äº† Data Collector çš„å®Œæ•´ç«¯åˆ°ç«¯æµ‹è¯•å®ç°ã€‚

**æµ‹è¯•ç‰ˆæœ¬**: v0.3.0  
**åˆ›å»ºæ—¥æœŸ**: 2024-11-23  
**æµ‹è¯•æ–‡ä»¶**: `tests/e2e/test_data_collector_comprehensive_e2e.py`

## ğŸ¯ æµ‹è¯•ç›®æ ‡

éªŒè¯ Data Collector ä»éƒ¨ç½²åˆ°è¿è¡Œçš„å®Œæ•´å·¥ä½œæµï¼Œç¡®ä¿ï¼š
- âœ… éƒ¨ç½²æµç¨‹å®Œæ•´æ— è¯¯
- âœ… æœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†æ­£å¸¸
- âœ… ç›‘æ§é›†æˆåŠŸèƒ½å®Œå–„
- âœ… æ•°æ®é‡‡é›†ç¨³å®šå¯é 
- âœ… é”™è¯¯æ¢å¤æœºåˆ¶æœ‰æ•ˆ
- âœ… é•¿æ—¶é—´è¿è¡Œç¨³å®š

## ğŸ“Š æµ‹è¯•è¦†ç›–

### æµ‹è¯•å¥—ä»¶ç»Ÿè®¡

| æµ‹è¯•å¥—ä»¶ | æµ‹è¯•æ•°é‡ | é¢„è®¡æ—¶é•¿ | è¦†ç›–åŠŸèƒ½ |
|---------|---------|---------|---------|
| **å®Œæ•´éƒ¨ç½²æµç¨‹** | 2 | 15-20åˆ†é’Ÿ | éƒ¨ç½² + Metrics éªŒè¯ |
| **æœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†** | 3 | 10-15åˆ†é’Ÿ | åœæ­¢/å¯åŠ¨/é‡å¯ |
| **å¥åº·æ£€æŸ¥å’Œç›‘æ§** | 2 | 5-10åˆ†é’Ÿ | å¥åº·æ£€æŸ¥ + æ—¥å¿— |
| **ç›‘æ§é›†æˆ** | 1 | 5-10åˆ†é’Ÿ | Prometheus é›†æˆ |
| **æ•°æ®é‡‡é›†éªŒè¯** | 1 | 5-10åˆ†é’Ÿ | æ•°æ®æ–‡ä»¶éªŒè¯ |
| **é”™è¯¯æ¢å¤** | 1 | 5-10åˆ†é’Ÿ | å´©æºƒæ¢å¤ |
| **æ€§èƒ½å’Œç¨³å®šæ€§** | 1 | 5-10åˆ†é’Ÿ | é•¿æ—¶é—´è¿è¡Œ |
| **æ€»è®¡** | **11** | **60-90åˆ†é’Ÿ** | **å®Œæ•´å·¥ä½œæµ** |

### è¯¦ç»†æµ‹è¯•ç”¨ä¾‹

#### 1ï¸âƒ£ Suite 1: å®Œæ•´éƒ¨ç½²æµç¨‹æµ‹è¯•

**æµ‹è¯•ç±»**: `TestDataCollectorFullDeployment`

| æµ‹è¯• | æè¿° | éªŒè¯ç‚¹ |
|------|------|--------|
| `test_01_deploy_data_collector` | å®Œæ•´éƒ¨ç½²æ•°æ®é‡‡é›†å™¨ | â€¢ Miniconda å®‰è£…<br>â€¢ quants-lab å…‹éš†<br>â€¢ conda ç¯å¢ƒåˆ›å»º<br>â€¢ é…ç½®æ–‡ä»¶ç”Ÿæˆ<br>â€¢ systemd æœåŠ¡åˆ›å»º<br>â€¢ æœåŠ¡å¯åŠ¨ |
| `test_02_verify_metrics_endpoint` | éªŒè¯ Metrics ç«¯ç‚¹ | â€¢ ç«¯ç‚¹å¯è®¿é—®<br>â€¢ Prometheus æ ¼å¼<br>â€¢ åŒ…å«å…³é”®æŒ‡æ ‡ |

#### 2ï¸âƒ£ Suite 2: æœåŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†æµ‹è¯•

**æµ‹è¯•ç±»**: `TestDataCollectorLifecycle`

| æµ‹è¯• | æè¿° | éªŒè¯ç‚¹ |
|------|------|--------|
| `test_03_service_stop` | åœæ­¢æœåŠ¡ | â€¢ æœåŠ¡å·²åœæ­¢<br>â€¢ è¿›ç¨‹å·²æ¸…ç† |
| `test_04_service_start` | å¯åŠ¨æœåŠ¡ | â€¢ æœåŠ¡å·²å¯åŠ¨<br>â€¢ è¿›ç¨‹å­˜åœ¨<br>â€¢ Metrics å¯ç”¨ |
| `test_05_service_restart` | é‡å¯æœåŠ¡ | â€¢ PID å·²æ”¹å˜<br>â€¢ æœåŠ¡æ­£å¸¸è¿è¡Œ |

#### 3ï¸âƒ£ Suite 3: å¥åº·æ£€æŸ¥å’Œç›‘æ§æµ‹è¯•

**æµ‹è¯•ç±»**: `TestDataCollectorHealthMonitoring`

| æµ‹è¯• | æè¿° | éªŒè¯ç‚¹ |
|------|------|--------|
| `test_06_health_check` | å¥åº·æ£€æŸ¥ | â€¢ è¿”å›å¥åº·çŠ¶æ€<br>â€¢ åŒ…å«å¥åº·æŒ‡æ ‡ |
| `test_07_logs_retrieval` | æ—¥å¿—è·å– | â€¢ æ—¥å¿—å¯è·å–<br>â€¢ å†…å®¹æ­£ç¡® |

#### 4ï¸âƒ£ Suite 4: ç›‘æ§é›†æˆæµ‹è¯•

**æµ‹è¯•ç±»**: `TestDataCollectorMonitoringIntegration`

| æµ‹è¯• | æè¿° | éªŒè¯ç‚¹ |
|------|------|--------|
| `test_08_prometheus_integration` | Prometheus é›†æˆ | â€¢ æ·»åŠ ç›®æ ‡æˆåŠŸ<br>â€¢ Prometheus æŠ“å–æ­£å¸¸<br>â€¢ æŒ‡æ ‡æ•°æ®å¯æŸ¥è¯¢ |

#### 5ï¸âƒ£ Suite 5: æ•°æ®é‡‡é›†éªŒè¯æµ‹è¯•

**æµ‹è¯•ç±»**: `TestDataCollectorDataCollection`

| æµ‹è¯• | æè¿° | éªŒè¯ç‚¹ |
|------|------|--------|
| `test_09_data_collection_verification` | æ•°æ®é‡‡é›†éªŒè¯ | â€¢ æ•°æ®ç›®å½•å­˜åœ¨<br>â€¢ æ•°æ®æ–‡ä»¶ç”Ÿæˆ<br>â€¢ æ–‡ä»¶æ ¼å¼æ­£ç¡® |

#### 6ï¸âƒ£ Suite 6: é”™è¯¯æ¢å¤æµ‹è¯•

**æµ‹è¯•ç±»**: `TestDataCollectorErrorRecovery`

| æµ‹è¯• | æè¿° | éªŒè¯ç‚¹ |
|------|------|--------|
| `test_10_service_crash_recovery` | æœåŠ¡å´©æºƒæ¢å¤ | â€¢ systemd è‡ªåŠ¨é‡å¯<br>â€¢ æ–°è¿›ç¨‹å¯åŠ¨<br>â€¢ Metrics æ¢å¤ |

#### 7ï¸âƒ£ Suite 7: æ€§èƒ½å’Œç¨³å®šæ€§æµ‹è¯•

**æµ‹è¯•ç±»**: `TestDataCollectorPerformanceStability`

| æµ‹è¯• | æè¿° | éªŒè¯ç‚¹ |
|------|------|--------|
| `test_11_long_running_stability` | é•¿æ—¶é—´è¿è¡Œç¨³å®šæ€§ | â€¢ èµ„æºä½¿ç”¨æ­£å¸¸<br>â€¢ æ— å†…å­˜æ³„æ¼<br>â€¢ æ•°æ®æŒç»­é‡‡é›† |

## ğŸ—ï¸ æµ‹è¯•æ¶æ„

```
æµ‹è¯•ç¯å¢ƒæ¶æ„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç›‘æ§èŠ‚ç‚¹ (AWS Lightsail)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Prometheus   â”‚  â”‚ Grafana  â”‚  â”‚ Alertmanager â”‚ â”‚
â”‚  â”‚ (9090)       â”‚  â”‚ (3000)   â”‚  â”‚ (9093)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â–² VPN: 10.0.0.1                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ VPN ç½‘ç»œ (10.0.0.0/24)
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®é‡‡é›†èŠ‚ç‚¹ (AWS Lightsail)                        â”‚
â”‚  VPN: 10.0.0.2                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ quants-lab (conda + systemd)                 â”‚ â”‚
â”‚  â”‚ - Miniconda: /opt/miniconda3                 â”‚ â”‚
â”‚  â”‚ - ä»£ç : /opt/quants-lab                      â”‚ â”‚
â”‚  â”‚ - æ•°æ®: /data/orderbook_ticks                â”‚ â”‚
â”‚  â”‚ - Metrics: http://10.0.0.2:8000/metrics      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: ä½¿ç”¨ä¾¿æ·è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# å¿«é€Ÿæµ‹è¯•ï¼ˆæ¨èæ–°æ‰‹ï¼‰
bash scripts/run_e2e_tests.sh --quick

# å®Œæ•´æµ‹è¯•
bash scripts/run_e2e_tests.sh --full

# åªæµ‹è¯•éƒ¨ç½²
bash scripts/run_e2e_tests.sh --deploy

# ç”Ÿæˆ HTML æŠ¥å‘Š
bash scripts/run_e2e_tests.sh --full --report

# è°ƒè¯•æ¨¡å¼ï¼ˆä¸æ¸…ç†èµ„æºï¼‰
bash scripts/run_e2e_tests.sh --quick --no-cleanup
```

### æ–¹æ³• 2: ç›´æ¥ä½¿ç”¨ pytest

```bash
# è¿è¡Œæ‰€æœ‰ E2E æµ‹è¯•
pytest tests/e2e/test_data_collector_comprehensive_e2e.py -v -s --run-e2e

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
pytest tests/e2e/test_data_collector_comprehensive_e2e.py::TestDataCollectorFullDeployment -v -s --run-e2e

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/e2e/test_data_collector_comprehensive_e2e.py::TestDataCollectorFullDeployment::test_01_deploy_data_collector -v -s --run-e2e

# è·³è¿‡é•¿æ—¶é—´æµ‹è¯•
pytest tests/e2e/test_data_collector_comprehensive_e2e.py -v -s --run-e2e -k "not stability"
```

### æ–¹æ³• 3: ä½¿ç”¨ç¯å¢ƒå˜é‡è‡ªå®šä¹‰

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export TEST_AWS_REGION=ap-northeast-1
export TEST_BUNDLE_ID=medium_3_0
export TEST_EXCHANGE=mexc
export TEST_PAIRS=AUKIUSDT,SERVUSDT,IRONUSDT

# è¿è¡Œæµ‹è¯•
pytest tests/e2e/test_data_collector_comprehensive_e2e.py -v -s --run-e2e
```

## ğŸ“‹ å‰ç½®æ¡ä»¶

### å¿…éœ€
- âœ… Python 3.9+
- âœ… pytest 7.0+
- âœ… AWS å‡­è¯é…ç½®
- âœ… SSH å¯†é’¥ï¼ˆLightsailï¼‰
- âœ… ç½‘ç»œè¿æ¥

### å¯é€‰
- AWS CLIï¼ˆç”¨äºæ‰‹åŠ¨ç®¡ç†èµ„æºï¼‰
- pytest-htmlï¼ˆç”Ÿæˆ HTML æŠ¥å‘Šï¼‰
- pytest-timeoutï¼ˆè¶…æ—¶æ§åˆ¶ï¼‰

### æ£€æŸ¥æ¸…å•

```bash
# 1. æ£€æŸ¥ Python
python3 --version

# 2. æ£€æŸ¥ pytest
python3 -m pytest --version

# 3. æ£€æŸ¥ AWS å‡­è¯
aws sts get-caller-identity

# 4. æ£€æŸ¥ SSH å¯†é’¥
ls -l ~/.ssh/lightsail-test-key.pem

# 5. æ£€æŸ¥é¡¹ç›®ç»“æ„
ls tests/e2e/test_data_collector_comprehensive_e2e.py
```

## ğŸ’° æˆæœ¬åˆ†æ

### å®ä¾‹è§„æ ¼å¯¹æ¯”

| è§„æ ¼ | vCPU | RAM | æœˆè´¹ | æ¯å°æ—¶ | 1.5hæµ‹è¯• |
|------|------|-----|------|--------|---------|
| nano_3_0 | 2 | 512MB | $3.50 | $0.005 | $0.01 |
| micro_3_0 | 2 | 1GB | $7 | $0.010 | $0.03 |
| small_3_0 | 2 | 2GB | $12 | $0.017 | $0.05 |
| **medium_3_0** | 2 | 4GB | $24 | $0.033 | **$0.10** â­ |
| large_3_0 | 2 | 8GB | $48 | $0.067 | $0.20 |

### æµ‹è¯•ç±»å‹æˆæœ¬ï¼ˆmedium_3_0ï¼‰

| æµ‹è¯•ç±»å‹ | æ—¶é•¿ | æˆæœ¬ï¼ˆ2å®ä¾‹ï¼‰ |
|---------|------|--------------|
| å®Œæ•´æµ‹è¯• | 1.5h | ~$0.10 |
| å¿«é€Ÿæµ‹è¯• | 1.0h | ~$0.07 |
| éƒ¨ç½²æµ‹è¯• | 0.5h | ~$0.03 |
| å•ä¸ªæµ‹è¯•å¥—ä»¶ | 0.3h | ~$0.02 |

**ğŸ’¡ æˆæœ¬ä¼˜åŒ–å»ºè®®**:
- å¼€å‘é˜¶æ®µä½¿ç”¨ `--quick` æ¨¡å¼
- ç”Ÿäº§éªŒè¯ä½¿ç”¨ `--full` æ¨¡å¼
- å¤±è´¥æ—¶ä½¿ç”¨ `--no-cleanup` ä¿ç•™å®ä¾‹è°ƒè¯•
- è°ƒè¯•å®Œæˆåæ‰‹åŠ¨åˆ é™¤å®ä¾‹

## ğŸ“ˆ æµ‹è¯•ç»“æœç¤ºä¾‹

### æˆåŠŸè¾“å‡º

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   E2E æµ‹è¯•æ€»ç»“                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… æ‰€æœ‰æµ‹è¯•å·²å®Œæˆï¼

ğŸ“Š æµ‹è¯•ç»Ÿè®¡:
  â€¢ ç›‘æ§å®ä¾‹: monitor-dc-e2e-1700000000
  â€¢ æ•°æ®é‡‡é›†å®ä¾‹: collector-dc-e2e-1700000000
  â€¢ äº¤æ˜“æ‰€: gateio
  â€¢ äº¤æ˜“å¯¹æ•°é‡: 3

ğŸŒ è®¿é—®ä¿¡æ¯:
  â€¢ Grafana: http://18.XXX.XXX.XXX:3000
  â€¢ Prometheus: http://18.XXX.XXX.XXX:9090
  â€¢ Alertmanager: http://18.XXX.XXX.XXX:9093

ğŸ‰ æµ‹è¯•å¥—ä»¶æ‰§è¡Œå®Œæˆï¼
```

### æµ‹è¯•è¾“å‡ºç¤ºä¾‹

```
tests/e2e/test_data_collector_comprehensive_e2e.py::TestDataCollectorFullDeployment::test_01_deploy_data_collector 

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  æµ‹è¯• 1: å®Œæ•´éƒ¨ç½²æ•°æ®é‡‡é›†å™¨                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Step 1/4] éƒ¨ç½² gateio æ•°æ®é‡‡é›†å™¨
  ä¸»æœº: 54.XXX.XXX.XXX
  VPN IP: 10.0.0.2
  äº¤æ˜“å¯¹: VIRTUAL-USDT, IRON-USDT, BNKR-USDT
  âœ… éƒ¨ç½²æˆåŠŸ

[Step 2/4] ç­‰å¾…æœåŠ¡å¯åŠ¨
  ç­‰å¾… 120 ç§’...

[Step 3/4] éªŒè¯ç»„ä»¶å®‰è£…
  âœ… Miniconda å·²å®‰è£…
  âœ… quants-lab ä»“åº“å·²å…‹éš†
  âœ… conda ç¯å¢ƒå·²åˆ›å»º
  âœ… é…ç½®æ–‡ä»¶å·²ç”Ÿæˆ
  âœ… systemd æœåŠ¡å·²åˆ›å»º

[Step 4/4] éªŒè¯æœåŠ¡è¿è¡Œ
  âœ… æœåŠ¡è¿è¡Œä¸­

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            âœ… æµ‹è¯• 1 é€šè¿‡: å®Œæ•´éƒ¨ç½²æˆåŠŸ                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASSED
```

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1: SSH è¿æ¥è¶…æ—¶

**ç—‡çŠ¶**:
```
Error: Connection timed out
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥å®ä¾‹çŠ¶æ€
aws lightsail get-instance --instance-name <instance-name>

# 2. æ£€æŸ¥å®‰å…¨ç»„
aws lightsail get-instance-port-states --instance-name <instance-name>

# 3. æµ‹è¯• SSH è¿æ¥
ssh -i ~/.ssh/lightsail-test-key.pem ubuntu@<instance-ip>
```

### é—®é¢˜ 2: æœåŠ¡å¯åŠ¨å¤±è´¥

**ç—‡çŠ¶**:
```
Error: Service failed to start
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# SSH åˆ°å®ä¾‹
ssh -i ~/.ssh/lightsail-test-key.pem ubuntu@<instance-ip>

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status quants-lab-gateio-collector

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u quants-lab-gateio-collector -n 50
```

### é—®é¢˜ 3: Metrics ç«¯ç‚¹ä¸å¯ç”¨

**ç—‡çŠ¶**:
```
Error: Cannot connect to metrics endpoint
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ç«¯å£ç›‘å¬
netstat -tlnp | grep 8000

# æµ‹è¯•æœ¬åœ°è®¿é—®
curl http://localhost:8000/metrics

# æ£€æŸ¥é˜²ç«å¢™
sudo ufw status
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [E2E æµ‹è¯•è¯¦ç»†æŒ‡å—](./e2e/README_E2E.md)
- [Data Collector éƒ¨ç½²æŒ‡å—](../docs/DATA_COLLECTOR_DEPLOYMENT.md)
- [Data Collector å•å…ƒæµ‹è¯•æŠ¥å‘Š](./DATA_COLLECTOR_TEST_REPORT.md)
- [Infrastructure v0.3.0 æµ‹è¯•æ€»ç»“](../TEST_SUMMARY_V0.3.0.md)

## ğŸ”„ æ›´æ–°å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´ |
|------|------|------|
| v1.0.0 | 2024-11-23 | åˆå§‹ç‰ˆæœ¬ï¼Œ11ä¸ª E2E æµ‹è¯• |

## ğŸ“ åç»­æ”¹è¿›

### è®¡åˆ’ä¸­çš„å¢å¼º
- [ ] æ·»åŠ å¤šäº¤æ˜“æ‰€å¹¶è¡Œéƒ¨ç½²æµ‹è¯•
- [ ] æ·»åŠ ç½‘ç»œæ•…éšœæ¨¡æ‹Ÿæµ‹è¯•
- [ ] æ·»åŠ å¤§é‡æ•°æ®é‡‡é›†å‹åŠ›æµ‹è¯•
- [ ] é›†æˆåˆ° CI/CD æµç¨‹
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] æ·»åŠ æ•°æ®è´¨é‡éªŒè¯æµ‹è¯•

### å·²çŸ¥é™åˆ¶
- VPN è®¿é—®éœ€è¦ä»æµ‹è¯•æœºå™¨é…ç½®ï¼ˆå½“å‰é€šè¿‡ SSH ç«¯å£è½¬å‘æµ‹è¯•ï¼‰
- æ•°æ®é‡‡é›†éªŒè¯ä¾èµ–æ—¶é—´ï¼ˆéœ€è¦ç­‰å¾…æ•°æ®ç”Ÿæˆï¼‰
- æˆæœ¬ä¼°ç®—åŸºäºå›ºå®šæ—¶é•¿ï¼ˆå®é™…å¯èƒ½æœ‰æ³¢åŠ¨ï¼‰

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®æµ‹è¯•ç”¨ä¾‹å’Œæ”¹è¿›ï¼

**æ·»åŠ æ–°æµ‹è¯•**:
1. åœ¨é€‚å½“çš„æµ‹è¯•ç±»ä¸­æ·»åŠ æµ‹è¯•æ–¹æ³•
2. ä½¿ç”¨ `@pytest.mark.e2e` å’Œ `@pytest.mark.slow` æ ‡è®°
3. éµå¾ªç°æœ‰å‘½åè§„èŒƒï¼ˆ`test_<number>_<feature>`ï¼‰
4. æ·»åŠ è¯¦ç»†çš„æ–‡æ¡£å­—ç¬¦ä¸²
5. æ›´æ–°æ­¤æ–‡æ¡£

---

**æœ€åæ›´æ–°**: 2024-11-23  
**ç»´æŠ¤è€…**: Infrastructure Team  
**ç‰ˆæœ¬**: v0.3.0

