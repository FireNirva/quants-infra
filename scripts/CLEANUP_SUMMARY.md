# Scripts æ–‡ä»¶å¤¹æ¸…ç†å’Œé‡ç»„æ€»ç»“

**æ›´æ–°æ—¥æœŸ**: 2025-11-25  
**ç‰ˆæœ¬**: v3.0 (æ¨¡å—åŒ–ç»“æ„)

## æ¸…ç†ç›®æ ‡

1. åˆ é™¤æ—§çš„é‡å¤è„šæœ¬
2. åˆ›å»ºæ¨¡å—åŒ–çš„æ–‡ä»¶å¤¹ç»“æ„
3. æŒ‰åŠŸèƒ½åˆ†ç±»ç®¡ç†è„šæœ¬
4. ä¾¿äºæŸ¥æ‰¾å’Œç»´æŠ¤

## åˆ é™¤çš„è„šæœ¬ (9ä¸ª)

è¿™äº›æ˜¯è¢«æ–°ç‰ˆæœ¬æ›¿ä»£çš„æ—§è„šæœ¬ï¼Œå·²å…¨éƒ¨åˆ é™¤ï¼š

| æ—§è„šæœ¬ | æ›¿ä»£è„šæœ¬ | åˆ é™¤åŸå›  |
|--------|---------|---------|
| `run_infra_e2e_tests.sh` | `test/run_infra.sh` | å·²è¢«é‡æ„ç‰ˆæœ¬æ›¿ä»£ |
| `run_e2e_security_tests.sh` | `test/run_security.sh` | å·²è¢«é‡æ„ç‰ˆæœ¬æ›¿ä»£ |
| `run_static_ip_tests.sh` | `test/run_static_ip.sh` | å·²è¢«é‡æ„ç‰ˆæœ¬æ›¿ä»£ |
| `run_monitor_e2e_tests.sh` | `test/run_monitor.sh` | å·²è¢«é‡æ„ç‰ˆæœ¬æ›¿ä»£ |
| `run_step_by_step_tests.sh` | `test/run_debug.sh` | å·²è¢«é‡æ„ç‰ˆæœ¬æ›¿ä»£ |
| `run_e2e_tests.sh` | `test/run_data_collector.sh` | å·²è¢«é‡æ„ç‰ˆæœ¬æ›¿ä»£ |
| `run_e2e_with_logs.sh` | `test/run_data_collector_logs.sh` | å·²è¢«é‡æ„ç‰ˆæœ¬æ›¿ä»£ |
| `quick_start_e2e.sh` | `utils/quick_start.sh` | å·²è¢«é‡å‘½åç‰ˆæœ¬æ›¿ä»£ |
| `run_monitor_tests.sh` | `test/run_monitor_unit.sh` | å·²è¢«é‡å‘½åç‰ˆæœ¬æ›¿ä»£ |

**åˆ é™¤åŸå› **: è¿™äº›æ—§è„šæœ¬åŠŸèƒ½é‡å¤ï¼Œä¸”æ²¡æœ‰ç»Ÿä¸€çš„æ—¥å¿—æ¡†æ¶ï¼Œå·²è¢«æ–°ç‰ˆæœ¬å®Œå…¨æ›¿ä»£ã€‚

## æ–°çš„æ–‡ä»¶å¤¹ç»“æ„

```
scripts/
â”œâ”€â”€ test/                    # æµ‹è¯•è„šæœ¬ (9ä¸ª)
â”‚   â”œâ”€â”€ run_comprehensive_tests.sh     # ç»¼åˆæµ‹è¯•å…¥å£
â”‚   â”œâ”€â”€ run_infra.sh                   # åŸºç¡€è®¾æ–½æµ‹è¯•
â”‚   â”œâ”€â”€ run_security.sh                # å®‰å…¨é…ç½®æµ‹è¯•
â”‚   â”œâ”€â”€ run_static_ip.sh               # é™æ€IPæµ‹è¯•
â”‚   â”œâ”€â”€ run_monitor.sh                 # ç›‘æ§ç³»ç»Ÿæµ‹è¯•
â”‚   â”œâ”€â”€ run_monitor_unit.sh            # ç›‘æ§å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ run_debug.sh                   # è°ƒè¯•æµ‹è¯•
â”‚   â”œâ”€â”€ run_data_collector.sh          # æ•°æ®é‡‡é›†å™¨æµ‹è¯•
â”‚   â””â”€â”€ run_data_collector_logs.sh     # æ•°æ®é‡‡é›†å™¨æµ‹è¯•(å¸¦æ—¥å¿—)
â”‚
â”œâ”€â”€ deploy/                  # éƒ¨ç½²è„šæœ¬ (1ä¸ª)
â”‚   â””â”€â”€ deploy_data_collector_full.sh  # å®Œæ•´éƒ¨ç½²æ•°æ®é‡‡é›†å™¨
â”‚
â”œâ”€â”€ utils/                   # å·¥å…·è„šæœ¬ (5ä¸ª)
â”‚   â”œâ”€â”€ quick_start.sh                 # å¿«é€Ÿå¯åŠ¨å‘å¯¼
â”‚   â”œâ”€â”€ check_e2e_prerequisites.py     # æ£€æŸ¥å…ˆå†³æ¡ä»¶
â”‚   â”œâ”€â”€ cleanup_project.sh             # é¡¹ç›®æ¸…ç†
â”‚   â”œâ”€â”€ sync_monitoring_configs.sh     # åŒæ­¥ç›‘æ§é…ç½®
â”‚   â””â”€â”€ tunnel_to_monitor.sh           # SSHéš§é“
â”‚
â”œâ”€â”€ README.md               # ä½¿ç”¨æ–‡æ¡£
â”œâ”€â”€ RENAMING_SUMMARY.md     # é‡å‘½åè¯´æ˜
â”œâ”€â”€ REFACTORING_SUMMARY.md  # é‡æ„è¯´æ˜
â””â”€â”€ CLEANUP_SUMMARY.md      # æ¸…ç†è¯´æ˜ï¼ˆæœ¬æ–‡æ¡£ï¼‰
```

## é‡ç»„çš„è„šæœ¬

### æµ‹è¯•è„šæœ¬ (test/) - 9ä¸ª

æ‰€æœ‰æµ‹è¯•è„šæœ¬ç§»åŠ¨åˆ° `test/` æ–‡ä»¶å¤¹ï¼Œç»Ÿä¸€ç®¡ç†ï¼š

| è„šæœ¬åç§° | å¤§å° | åŠŸèƒ½ | æ—¥å¿—æ¡†æ¶ |
|---------|------|------|---------|
| `run_comprehensive_tests.sh` | 8.3K | ç»¼åˆæµ‹è¯•å…¥å£ | âœ… æœ‰ |
| `run_infra.sh` | 10K | åŸºç¡€è®¾æ–½æµ‹è¯• | âœ… å®Œæ•´ |
| `run_security.sh` | 11K | å®‰å…¨é…ç½®æµ‹è¯• | âœ… å®Œæ•´ |
| `run_static_ip.sh` | 8.0K | é™æ€IPæµ‹è¯• | âœ… å®Œæ•´ |
| `run_monitor.sh` | 4.1K | ç›‘æ§ç³»ç»Ÿæµ‹è¯• | ğŸ”„ å¾…é‡æ„ |
| `run_monitor_unit.sh` | 4.7K | ç›‘æ§å•å…ƒæµ‹è¯• | ğŸ”„ å¾…é‡æ„ |
| `run_debug.sh` | 3.2K | è°ƒè¯•æµ‹è¯• | ğŸ”„ å¾…é‡æ„ |
| `run_data_collector.sh` | 16K | æ•°æ®é‡‡é›†å™¨æµ‹è¯• | âœ… æœ‰ |
| `run_data_collector_logs.sh` | 11K | æ•°æ®é‡‡é›†å™¨æµ‹è¯•(æ—¥å¿—) | âœ… å®Œæ•´ |

### éƒ¨ç½²è„šæœ¬ (deploy/) - 1ä¸ª

| è„šæœ¬åç§° | å¤§å° | åŠŸèƒ½ |
|---------|------|------|
| `deploy_data_collector_full.sh` | 6.5K | å®Œæ•´éƒ¨ç½²æ•°æ®é‡‡é›†å™¨ |

### å·¥å…·è„šæœ¬ (utils/) - 5ä¸ª

| è„šæœ¬åç§° | å¤§å° | åŠŸèƒ½ |
|---------|------|------|
| `quick_start.sh` | 6.1K | å¿«é€Ÿå¯åŠ¨å‘å¯¼ |
| `check_e2e_prerequisites.py` | 7.6K | æ£€æŸ¥å…ˆå†³æ¡ä»¶ |
| `cleanup_project.sh` | 8.1K | é¡¹ç›®æ¸…ç† |
| `sync_monitoring_configs.sh` | 10K | åŒæ­¥ç›‘æ§é…ç½® |
| `tunnel_to_monitor.sh` | 5.0K | SSHéš§é“ |

## ä½¿ç”¨æ–¹å¼å˜æ›´

### é‡ç»„å‰
```bash
# æ—§çš„æ–¹å¼ - æ‰€æœ‰è„šæœ¬åœ¨åŒä¸€ç›®å½•
bash scripts/run_infra_e2e_tests.sh
bash scripts/run_e2e_security_tests.sh
bash scripts/deploy_data_collector_full.sh
bash scripts/quick_start_e2e.sh
```

### é‡ç»„å
```bash
# æ–°çš„æ–¹å¼ - æŒ‰æ–‡ä»¶å¤¹åˆ†ç±»
bash scripts/test/run_infra.sh
bash scripts/test/run_security.sh
bash scripts/deploy/deploy_data_collector_full.sh
bash scripts/utils/quick_start.sh
```

## ä¼˜åŠ¿å¯¹æ¯”

### é‡ç»„å‰çš„é—®é¢˜
1. âŒ 20+ ä¸ªè„šæœ¬æ··åœ¨ä¸€èµ·ï¼Œéš¾ä»¥æŸ¥æ‰¾
2. âŒ æµ‹è¯•è„šæœ¬ã€éƒ¨ç½²è„šæœ¬ã€å·¥å…·è„šæœ¬æ··æ‚
3. âŒ æ–°æ—§ç‰ˆæœ¬è„šæœ¬å…±å­˜ï¼Œå®¹æ˜“è¯¯ç”¨
4. âŒ å‘½åä¸ç»Ÿä¸€ï¼Œæœ‰ `_e2e`ã€`_tests` ç­‰å†—ä½™åç¼€

### é‡ç»„åçš„ä¼˜åŠ¿
1. âœ… æŒ‰åŠŸèƒ½åˆ†ç±»åˆ° 3 ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸€ç›®äº†ç„¶
2. âœ… æµ‹è¯•ã€éƒ¨ç½²ã€å·¥å…·å„å¸å…¶èŒ
3. âœ… åªä¿ç•™æœ€æ–°ç‰ˆæœ¬ï¼Œé¿å…æ··æ·†
4. âœ… å‘½åç®€æ´ç»Ÿä¸€

## ç»Ÿè®¡ä¿¡æ¯

### æ¸…ç†å‰
- æ€»è„šæœ¬æ•°: 25ä¸ª
- æ–‡ä»¶å¤¹: 0ä¸ª
- é‡å¤è„šæœ¬: 9ä¸ª
- æ—§ç‰ˆè„šæœ¬: 9ä¸ª

### æ¸…ç†å
- æ€»è„šæœ¬æ•°: 15ä¸ª (å‡å°‘ 40%)
- æ–‡ä»¶å¤¹: 3ä¸ª (test, deploy, utils)
- é‡å¤è„šæœ¬: 0ä¸ª
- æ—§ç‰ˆè„šæœ¬: 0ä¸ª

**å‡å°‘çš„è„šæœ¬**: 9ä¸ª  
**æ–°å¢çš„æ–‡æ¡£**: CLEANUP_SUMMARY.md

## è¿ç§»æŒ‡å—

### å¦‚æœä½ æœ‰è„šæœ¬æˆ–æ–‡æ¡£å¼•ç”¨äº†æ—§è·¯å¾„

#### æŸ¥æ‰¾å¼•ç”¨
```bash
# æŸ¥æ‰¾æ—§è„šæœ¬è·¯å¾„çš„å¼•ç”¨
grep -r "run_infra_e2e_tests" ..
grep -r "run_e2e_security_tests" ..
grep -r "scripts/run_" ..
```

#### æ›´æ–°è·¯å¾„
```bash
# æ›´æ–°æµ‹è¯•è„šæœ¬è·¯å¾„
# æ—§: scripts/run_infra_e2e_tests.sh
# æ–°: scripts/test/run_infra.sh

# æ›´æ–°éƒ¨ç½²è„šæœ¬è·¯å¾„
# æ—§: scripts/deploy_data_collector_full.sh
# æ–°: scripts/deploy/deploy_data_collector_full.sh

# æ›´æ–°å·¥å…·è„šæœ¬è·¯å¾„
# æ—§: scripts/quick_start_e2e.sh
# æ–°: scripts/utils/quick_start.sh
```

### CI/CD é…ç½®æ›´æ–°

å¦‚æœä½ åœ¨ CI/CD ä¸­ä½¿ç”¨äº†è¿™äº›è„šæœ¬ï¼Œéœ€è¦æ›´æ–°è·¯å¾„ï¼š

```yaml
# GitHub Actions ç¤ºä¾‹
# æ›´æ–°å‰
- run: bash scripts/run_infra_e2e_tests.sh

# æ›´æ–°å
- run: bash scripts/test/run_infra.sh
```

### Makefile æ›´æ–°

```makefile
# æ›´æ–°å‰
test-infra:
    bash scripts/run_infra_e2e_tests.sh

# æ›´æ–°å
test-infra:
    bash scripts/test/run_infra.sh
```

## å‘åå…¼å®¹æ€§

âš ï¸ **é‡è¦æç¤º**: æ—§çš„è„šæœ¬å·²è¢«åˆ é™¤ï¼Œä¸å­˜åœ¨å‘åå…¼å®¹æ€§ã€‚

å¦‚æœä½ çš„è‡ªåŠ¨åŒ–è„šæœ¬å¼•ç”¨äº†æ—§è·¯å¾„ï¼Œéœ€è¦ç«‹å³æ›´æ–°ä¸ºæ–°è·¯å¾„ã€‚

## åç»­è®¡åˆ’

### å·²å®Œæˆ
- âœ… åˆ é™¤é‡å¤çš„æ—§è„šæœ¬
- âœ… åˆ›å»ºæ¨¡å—åŒ–æ–‡ä»¶å¤¹ç»“æ„
- âœ… ç§»åŠ¨è„šæœ¬åˆ°å¯¹åº”æ–‡ä»¶å¤¹
- âœ… æ›´æ–° README æ–‡æ¡£

### å¾…å®Œæˆ
- ğŸ”„ é‡æ„ `run_monitor.sh` ä½¿ç”¨å®Œæ•´æ—¥å¿—æ¡†æ¶
- ğŸ”„ é‡æ„ `run_debug.sh` ä½¿ç”¨å®Œæ•´æ—¥å¿—æ¡†æ¶
- ğŸ”„ é‡æ„ `run_monitor_unit.sh` ä½¿ç”¨å®Œæ•´æ—¥å¿—æ¡†æ¶ï¼ˆå¯é€‰ï¼‰

## ç›¸å…³æ–‡æ¡£

- [Scripts README](./README.md) - ä½¿ç”¨æ–‡æ¡£
- [è„šæœ¬é‡å‘½åè¯´æ˜](./RENAMING_SUMMARY.md) - v1.0 é‡å‘½åè¯¦æƒ…
- [è„šæœ¬é‡æ„è¯´æ˜](./REFACTORING_SUMMARY.md) - v2.0 æ—¥å¿—æ¡†æ¶é‡æ„
- [æ¸…ç†è¯´æ˜](./CLEANUP_SUMMARY.md) - v3.0 æ–‡ä»¶å¤¹é‡ç»„ï¼ˆæœ¬æ–‡æ¡£ï¼‰

## ç‰ˆæœ¬å†å²

### v3.0 (2025-11-25) - æ–‡ä»¶å¤¹é‡ç»„
- âœ… åˆ é™¤ 9 ä¸ªæ—§è„šæœ¬
- âœ… åˆ›å»º test/deploy/utils ä¸‰ä¸ªæ–‡ä»¶å¤¹
- âœ… ç§»åŠ¨ 15 ä¸ªè„šæœ¬åˆ°å¯¹åº”æ–‡ä»¶å¤¹
- âœ… æ›´æ–° README æ–‡æ¡£

### v2.0 (2025-11-25) - æ—¥å¿—æ¡†æ¶é‡æ„
- âœ… é‡æ„ 3 ä¸ªæ ¸å¿ƒæµ‹è¯•è„šæœ¬
- âœ… ç»Ÿä¸€æ—¥å¿—æ¡†æ¶

### v1.0 (2025-11-25) - è„šæœ¬é‡å‘½å
- âœ… é‡å‘½å 9 ä¸ªè„šæœ¬
- âœ… å»é™¤å†—ä½™åç¼€

---

**ç»´æŠ¤è€…**: Quants Infrastructure Team  
**ç‰ˆæœ¬**: v3.0 (æ¨¡å—åŒ–æ–‡ä»¶å¤¹ç»“æ„)  
**æ¸…ç†æ—¥æœŸ**: 2025-11-25

